{% load staticfiles %}
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
      integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">


<head>
    <link rel="stylesheet" href="{% static 'Restaurant_admin/assets/bootstrap/css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'Restaurant_admin/css/Wtable.css' %}">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

</head>

<html lang="en">
<header class="top_header topnav">
    <div class="nav_items">
        <a href="{% url 'restaurant_admin:CostHome_detail' %}">هزینه</a>
        <a href="{% url 'restaurant_admin:TableHome_detail' %}">میزها</a>
        <a href="{% url 'restaurant_admin:FoodHome_detail' %}">غذا</a>
        <a href="{% url 'restaurant_admin:admin_home' %}">خانه</a>
    </div>
</header>
{% if chosen_object %}
    <main class="main_content" style="padding: 2%">
    <div class="card w-75">
        <div class="card-body">
            <div class="card-text">

                <form method="post" enctype="multipart/form-data">
                    {% csrf_token %}

                    {{ update_form.name.label_tag }}
                    {{ update_form.name }}
                    {{ update_form.name.errors }}

                    {{ update_form.f_name.label_tag }}
                    {{ update_form.f_name }}
                    {{ update_form.f_name.errors }}

                    <p>سمت</p>
                    <!-- <td>{{ update_form.position.label_tag }}</td> -->
                    {{ update_form.position }}


                    {{ update_form.home_addr.label_tag }}
                    {{ update_form.home_addr }}
                    {{ update_form.home_addr.errors }}


                    {{ update_form.phone_number.label_tag }}
                    {{ update_form.phone_number }}
                    {{ update_form.phone_number.errors }}


                    {{ update_form.national_code.label_tag }}
                    {{ update_form.national_code }}
                    {{ update_form.national_code.errors }}


                    {{ update_form.mobile_number.label_tag }}
                    {{ update_form.mobile_number }}
                    {{ update_form.mobile_number.errors }}

                    {{ update_form.profile.label_tag }}
                    {{ update_form.profile }}
                    {{ update_form.profile.errors }}


                    {{ update_form.published_date.label_tag }}
                    {{ update_form.published_date }}
                    <!-- <td>{{ update_form.published_date.errors }}</td> -->
                    <!-- <td>{{ update_form.published_date.value }}</td> -->


                    <input type='hidden' name='pk' value="{{ chosen_object.pk }}">
                    <input type="submit" name="edit" value="Update">
                </form>

            </div>
        </div>
    </div>
{% endif %}
<br>
<div class="wrapper">
    <div class="row active-with-click">
        {% for worker in object_list %}
            <div class="col-md-4 col-sm-6 col-xs-12">
                <article class="material-card Teal">
                    <h2>
                        <span>
                            <div style="text-align:right;display: flex;direction: rtl;">
                                <form method="post">
                                    {% csrf_token %}
                                    <input type="hidden" name="id" value="{{ worker.pk }}">
                                    <input style="background-color:rgb(0,150,136);color: white;border:none;"
                                           type="submit" value="{{ worker.f_name }} {{ worker.name }}">
                                </form>
                            </div>
                        </span>
                        <strong>
                            <i class="fas fa-star"></i>
                            {{ worker.position }}
                        </strong>

                    </h2>
                    <div class="mc-content">
                        <div  class="mc-description" style="text-align:right;direction: rtl;">
                            <p>شماره ملی:{{ worker.national_code }}</p>
                            <p>شماره تلفن:{{worker.phone_number }}</p>

                        </div>
                        <div class="img-container">
                            <img class="img-responsive"
                                 src="{{ worker.profile.url }}">
                        </div>

                    </div>
                    <a class="mc-btn-action">
                        <i class="fa fa-bars"></i>
                    </a>
                     <div class="mc-footer">

                </div>
                </article>
            </div>
        {% empty %}
            <li>No Worker yet.</li>

        {% endfor %}
    </div>
</div>


</main>
<script>
    document.querySelectorAll('.worker_remove_btn').forEach(btn => {
        btn.addEventListener('click', event => {
            $('#exampleModal').modal();
            const workerRemoveLink = document.getElementById('worker_remove_link');
            const url = "{% url 'restaurant_admin:Worker_delete' pk=123 %}".replace('123', event.target.dataset.worker);
            workerRemoveLink.href = url;
        });
    });
</script>
<script src="{% static 'Restaurant_admin/assets/js/jquery-3.4.0.slim.min.js' %}"></script>
<script src="{% static 'Restaurant_admin/js/Wtable.js' %}"></script>
<script src="{% static 'Restaurant_admin/assets/js/jquery-3.4.0.slim.min.js' %}"></script>
<script src="{% static 'Restaurant_admin/assets/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'Restaurant_admin/assets/bootstrap/js/bootstrap.min.js' %}"></script>
<!-- <script>
    $('.js-pscroll').each(function () {
        var ps = new PerfectScrollbar(this);

        $(window).on('resize', function () {
            ps.update();
        })
    });


</script> -->


<form method="post">
    {% csrf_token %}
    <p><input type="submit" name="create" value="create"></p>
</form>

{% if create_bool %}

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <table border="1">
            <tr>
                <th>{{ create_form.name.label_tag }}</th>
                <td>{{ create_form.name }} </td>
                <td>{{ create_form.name.errors }}</td>
            </tr>
            <tr>
                <th>{{ create_form.f_name.label_tag }}</th>
                <td>{{ create_form.f_name }} </td>
                <td>{{ create_form.f_name.errors }}</td>
            </tr>
            <tr>
                <th>Position</th>
                <td>{{ create_form.position.label_tag }}</td>
                <td>{{ create_form.position }}</td>
            </tr>
            <tr>
                <th>{{ create_form.home_addr.label_tag }}</th>
                <td>{{ create_form.home_addr }} </td>
                <td>{{ create_form.home_addr.errors }}</td>
            </tr>
            <tr>
                <th>{{ create_form.phone_number.label_tag }}</th>
                <td>{{ create_form.phone_number }} </td>
                <td>{{ create_form.phone_number.errors }}</td>
            </tr>
            <tr>
                <th>{{ create_form.national_code.label_tag }}</th>
                <td>{{ create_form.national_code }} </td>
                <td>{{ create_form.national_code.errors }}</td>
            </tr>
            <tr>
                <th>{{ create_form.mobile_number.label_tag }}</th>
                <td>{{ create_form.mobile_number }} </td>
                <td>{{ create_form.mobile_number.errors }}</td>
            </tr>
            <tr>
                <th>{{ create_form.profile.label_tag }}</th>
                <td>{{ create_form.profile }} </td>
                <td>{{ create_form.profile.errors }}</td>
            </tr>
            <tr>
                <th>{{ create_form.published_date.label_tag }}</th>
                <td>{{ create_form.published_date }} </td>
                <td>{{ create_form.published_date.errors }}</td>
                <td>{{ create_form.published_date.value }}</td>
            </tr>
        </table>
        <input type="submit" name="create_1" value="CREATE">
    </form>

{% endif %}
